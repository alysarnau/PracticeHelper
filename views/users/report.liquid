{% layout 'layout.liquid' %}
{% block content %}

<div class="container-md">
    {% if user%}
    <h2 class="text-center">{{user}} Practice Review</h2> 
    {% else %}
    <h2 class="text-center">All Practice Review</h2>
    {% endif %}
    <div>
        <form action="/users/report/mine/range" method="GET">
            <fieldset>
                <legend>Filter Practice by Date</legend>
                <label class="form-label" for="startDate">Start Date:</label>
                <input 
                    class="form-control filterDate" 
                    type="date" 
                    name="startDate" 
                    id="startDate" 
                >
                <label class="form-label" for="instrument">End Date:</label>
                <input 
                    class="form-control filterDate" 
                    type="date" 
                    name="endDate" 
                    id="endDate" 
                >
                </fieldset>
            <div class="text-center">
                <input type="submit" value="Filter Practice by Date" class="btn btn-primary">
            </div>
        </form>
    </div>
    <table class="table table-striped">
        <tr>
            <th>Date</th>
            <th>Piece</th>
            <th>Composer</th>
            <th>Minutes</th>
        </tr>
        {% for practice in practices %}
        <tr>{% for entry in practice.entries %}
            <td>{{practice.date}}</td>
            <td>{{entry.piece}}</td>
            <td>{{entry.composer}}</td>
            <td class="countMe">{{entry.minutes}}</td>
            {%assign totalMinutes = entry.minutes | plus: totalMinutes %}
        </tr>
            {% endfor %}
            {% endfor %}
        <tr class="table-info">
            <td></td>
            <td></td>
            <td></td>
            <td>{{totalMinutes}}</td>
        </tr>
    </table>
    <div class="text-center">
        <a href="../../../practices/mine">Go Back</a>
    </div>    
</div>

{% endblock %}